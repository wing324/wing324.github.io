<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="mysql_build_in_function," />





  <link rel="alternate" href="/atom.xml" title="Wing's Tech Space" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon/favicon.ico?v=5.0.1" />






<meta name="description" content="MySQL存在很多内置的函数，往往会给我们的工作带来很多方便，接下来就介绍下常用的MySQL内置函数。">
<meta property="og:type" content="article">
<meta property="og:title" content="常用的MySQL内置函数">
<meta property="og:url" content="https://wing324.github.io/2015/09/30/常用的MySQL内置函数/index.html">
<meta property="og:site_name" content="Wing's Tech Space">
<meta property="og:description" content="MySQL存在很多内置的函数，往往会给我们的工作带来很多方便，接下来就介绍下常用的MySQL内置函数。">
<meta property="og:image" content="https://wing324.github.io/E:\MDimages/date_add_and_date_sub_interval_format.png">
<meta property="og:updated_time" content="2017-01-31T10:36:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="常用的MySQL内置函数">
<meta name="twitter:description" content="MySQL存在很多内置的函数，往往会给我们的工作带来很多方便，接下来就介绍下常用的MySQL内置函数。">
<meta name="twitter:image" content="https://wing324.github.io/E:\MDimages/date_add_and_date_sub_interval_format.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 11154520,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="https://wing324.github.io/2015/09/30/常用的MySQL内置函数/"/>

  <title> 常用的MySQL内置函数 | Wing's Tech Space </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?49b16c9d482511603ad262b1dcf7bb45";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Wing's Tech Space</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-commenting"></i> <br />
            
            留言
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search fa-lg"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                常用的MySQL内置函数
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-09-30T10:08:02-07:00" content="2015-09-30">
              2015-09-30
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/MySQL/" itemprop="url" rel="index">
                    <span itemprop="name">MySQL</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/09/30/常用的MySQL内置函数/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/09/30/常用的MySQL内置函数/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
              &nbsp; | &nbsp;
              <span class="page-pv">热度
              <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>℃
              </span>
          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>MySQL存在很多内置的函数，往往会给我们的工作带来很多方便，接下来就介绍下常用的MySQL内置函数。<br><a id="more"></a></p>
<h2 id="比较函数">比较函数</h2><h5 id="COALESCE():">COALESCE():</h5><p>返回参数中第一个不是NULL的值。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:23:22&gt; select coalesce(null,null,1,2,3,'test');</div><div class="line">+----------------------------------+</div><div class="line">| coalesce(null,null,1,2,3,'test') |</div><div class="line">+----------------------------------+</div><div class="line">| 1                                |</div><div class="line">+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:39:14&gt; select coalesce(null,'test',null,1,2);</div><div class="line">+--------------------------------+</div><div class="line">| coalesce(null,'test',null,1,2) |</div><div class="line">+--------------------------------+</div><div class="line">| test                           |</div><div class="line">+--------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:42:54&gt; select coalesce('test',null,1,2);</div><div class="line">+---------------------------+</div><div class="line">| coalesce('test',null,1,2) |</div><div class="line">+---------------------------+</div><div class="line">| test                      |</div><div class="line">+---------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="GREATEST():">GREATEST():</h5><p>返回最大的参数,若参数中存在NULL值,则返回NULL值。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:45:24&gt; select greatest(1,2,null,3,4);</div><div class="line">+------------------------+</div><div class="line">| greatest(1,2,null,3,4) |</div><div class="line">+------------------------+</div><div class="line">|                   NULL |</div><div class="line">+------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:45:29&gt; select greatest(1,2,3,4);</div><div class="line">+-------------------+</div><div class="line">| greatest(1,2,3,4) |</div><div class="line">+-------------------+</div><div class="line">|                 4 |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:45:33&gt; select greatest(1,2,3,4,'test');</div><div class="line">+--------------------------+</div><div class="line">| greatest(1,2,3,4,'test') |</div><div class="line">+--------------------------+</div><div class="line">| 4                        |</div><div class="line">+--------------------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">Warning (Code 1292): Truncated incorrect DOUBLE value: 'test'</div></pre></td></tr></table></figure>
<h5 id="IN():">IN():</h5><p>检验某个值是否存在于IN的集合中。  </p>
<h5 id="INTERVAL():">INTERVAL():</h5><p>返回第一个比第一个参数小的索引值,其内部参数必须为数值型,如果第一个参数为NULL值,则返回-1。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:47:18&gt; select interval(null,1,2,3,4);</div><div class="line">+------------------------+</div><div class="line">| interval(null,1,2,3,4) |</div><div class="line">+------------------------+</div><div class="line">|                     -1 |</div><div class="line">+------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:54:34&gt; select interval(2,1,2,3,4);</div><div class="line">+---------------------+</div><div class="line">| interval(2,1,2,3,4) |</div><div class="line">+---------------------+</div><div class="line">|                   2 |</div><div class="line">+---------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="ISNULL():">ISNULL():</h5><p>判断其参数是否为NULL值。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:54:39&gt; select isnull(null);</div><div class="line">+--------------+</div><div class="line">| isnull(null) |</div><div class="line">+--------------+</div><div class="line">|            1 |</div><div class="line">+--------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:57:34&gt; select isnull(0);</div><div class="line">+-----------+</div><div class="line">| isnull(0) |</div><div class="line">+-----------+</div><div class="line">|         0 |</div><div class="line">+-----------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:57:37&gt; select isnull('test');</div><div class="line">+----------------+</div><div class="line">| isnull('test') |</div><div class="line">+----------------+</div><div class="line">|              0 |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="LEAST():">LEAST():</h5><p>返回参数中最小的值,如果参数中存在NULL值,则返回NULL。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:57:44&gt; select least(null,1,2,3);</div><div class="line">+-------------------+</div><div class="line">| least(null,1,2,3) |</div><div class="line">+-------------------+</div><div class="line">|              NULL |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 12:00:05&gt; select least(3,2,7);</div><div class="line">+--------------+</div><div class="line">| least(3,2,7) |</div><div class="line">+--------------+</div><div class="line">|            2 |</div><div class="line">+--------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 12:00:13&gt; select least(3,2,7,'test');</div><div class="line">+---------------------+</div><div class="line">| least(3,2,7,'test') |</div><div class="line">+---------------------+</div><div class="line">| 0                   |</div><div class="line">+---------------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">Warning (Code 1292): Truncated incorrect DOUBLE value: 'test'</div><div class="line">root@localhost : wing 12:00:22&gt; select least(3,2,7,null,'test');</div><div class="line">+--------------------------+</div><div class="line">| least(3,2,7,null,'test') |</div><div class="line">+--------------------------+</div><div class="line">| NULL                     |</div><div class="line">+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="STRCMP(expr1,expr2)">STRCMP(expr1,expr2)</h5><p>字符串比较函数<br>expr1<expr2返回 0="" -1="" expr1="expr2返回">expr2返回 1  </expr2返回></p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 12:08:48&gt; select strcmp('tast','test');</div><div class="line">+-----------------------+</div><div class="line">| strcmp('tast','test') |</div><div class="line">+-----------------------+</div><div class="line">|                    -1 |</div><div class="line">+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 12:08:52&gt; select strcmp('test','test');</div><div class="line">+-----------------------+</div><div class="line">| strcmp('test','test') |</div><div class="line">+-----------------------+</div><div class="line">|                     0 |</div><div class="line">+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 12:08:54&gt; select strcmp('test','tast');</div><div class="line">+-----------------------+</div><div class="line">| strcmp('test','tast') |</div><div class="line">+-----------------------+</div><div class="line">|                     1 |</div><div class="line">+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h2 id="赋值操作">赋值操作</h2><ol>
<li>‘:=’不同于=之处在于,’:=’操作从来不解释为一个比较操作符,所以可以使用’:=’操作符将任何一个有效的SQL语句赋值到变量中。  </li>
<li>‘=’只能用于两个场景下：<br>SET语句中’=’相当于’:=’<br>EXAMPLE</li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line"># 未赋值成功,=相当于比较操作 </div><div class="line">root@localhost : wing 01:10:02&gt; select @a=1;    </div><div class="line">+------+</div><div class="line">| @a=1 |</div><div class="line">+------+</div><div class="line">| NULL |</div><div class="line">+------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line"># 赋值成功</div><div class="line">root@localhost : wing 01:25:05&gt; select @a:=1;</div><div class="line">+-------+</div><div class="line">| @a:=1 |</div><div class="line">+-------+</div><div class="line">|     1 |</div><div class="line">+-------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h2 id="控制流函数">控制流函数</h2><h5 id="CASE">CASE</h5><p><strong>语法</strong><br><figure class="highlight sql"><table><tr><td class="code"><pre><div class="line">CASE value WHEN [compare_value] THEN result [WHEN [compare_value] THEN result ...] [ELSE result] <span class="keyword">END</span></div></pre></td></tr></table></figure></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><div class="line">CASE WHEN [condition] THEN result [WHEN [condition] THEN result ...] [ELSE result] <span class="keyword">END</span></div></pre></td></tr></table></figure>
<p><strong>实战演练</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:07:15&gt; select * from fun_data;</div><div class="line">+------+--------+</div><div class="line">| id   | name   |</div><div class="line">+------+--------+</div><div class="line">|    1 | MySQL  |</div><div class="line">|    2 | Oracle |</div><div class="line">|    3 | Python |</div><div class="line">| NULL | SHELL  |</div><div class="line">|    5 | NULL   |</div><div class="line">+------+--------+</div><div class="line">5 rows in set (0.00 sec)</div><div class="line"></div><div class="line"># CASE WHEN ...语句实战演练</div><div class="line">root@localhost : wing 02:07:14&gt; select case when id is null then 0 else id end from fun_data;</div><div class="line">+-----------------------------------------+</div><div class="line">| case when id is null then 0 else id end |</div><div class="line">+-----------------------------------------+</div><div class="line">|                                       1 |</div><div class="line">|                                       2 |</div><div class="line">|                                       3 |</div><div class="line">|                                       0 |</div><div class="line">|                                       5 |</div><div class="line">+-----------------------------------------+</div><div class="line">5 rows in set (0.00 sec)</div><div class="line"></div><div class="line"># CASE value WHEN ...语句实战演练</div><div class="line">root@localhost : wing 02:08:46&gt; select case name when 'SHELL' then 'LINUX' else name end from fun_data;</div><div class="line">+---------------------------------------------------+</div><div class="line">| case name when 'SHELL' then 'LINUX' else name end |</div><div class="line">+---------------------------------------------------+</div><div class="line">| MySQL                                             |</div><div class="line">| Oracle                                            |</div><div class="line">| Python                                            |</div><div class="line">| LINUX                                             |</div><div class="line">| NULL                                              |</div><div class="line">+---------------------------------------------------+</div><div class="line">5 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="IF(expr1,expr2,expr3)">IF(expr1,expr2,expr3)</h5><p>如果expr1为TRUE,即expr1&lt;&gt;0以及expr1&lt;&gt;NULL,此时返回expr2;<br>如果expr1为FALSE,即exor1 is null或expr1=0,此时返回expr3。  </p>
<h5 id="IFNULL(expr1,expr2)">IFNULL(expr1,expr2)</h5><p>如果expr1为NULL值,此时返回expr2;<br>如果expr1不为NULL值,此时返回expr1。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 04:15:44&gt; select ifnull(null,0);</div><div class="line">+----------------+</div><div class="line">| ifnull(null,0) |</div><div class="line">+----------------+</div><div class="line">|              0 |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:34:18&gt; select ifnull(3,0);</div><div class="line">+-------------+</div><div class="line">| ifnull(3,0) |</div><div class="line">+-------------+</div><div class="line">|           3 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:34:23&gt; select ifnull('test',0);</div><div class="line">+------------------+</div><div class="line">| ifnull('test',0) |</div><div class="line">+------------------+</div><div class="line">| test             |</div><div class="line">+------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:34:30&gt; select ifnull(0,1);</div><div class="line">+-------------+</div><div class="line">| ifnull(0,1) |</div><div class="line">+-------------+</div><div class="line">|           0 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="NULLIF(expr1,expr2)">NULLIF(expr1,expr2)</h5><p>如果expr1=exor2,则返回NULL;<br>如果expr1&lt;&gt;expr2,则返回expr1。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 04:37:56&gt; select nullif(null,null);</div><div class="line">+-------------------+</div><div class="line">| nullif(null,null) |</div><div class="line">+-------------------+</div><div class="line">| NULL              |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:39:06&gt; select nullif(1024,1024);</div><div class="line">+-------------------+</div><div class="line">| nullif(1024,1024) |</div><div class="line">+-------------------+</div><div class="line">|              NULL |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:39:18&gt; select nullif(1024,512);</div><div class="line">+------------------+</div><div class="line">| nullif(1024,512) |</div><div class="line">+------------------+</div><div class="line">|             1024 |</div><div class="line">+------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:39:24&gt; select nullif(512,1024);</div><div class="line">+------------------+</div><div class="line">| nullif(512,1024) |</div><div class="line">+------------------+</div><div class="line">|              512 |</div><div class="line">+------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h2 id="字符串函数">字符串函数</h2><h5 id="LENGTH()">LENGTH()</h5><p>返回字符串的字节数  </p>
<h5 id="CHAR_LENGTH()">CHAR_LENGTH()</h5><p>返回字符串的字符数  </p>
<h5 id="BIT_LENGTH()">BIT_LENGTH()</h5><p>返回字符串的位数  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 04:48:06&gt; select char_length('MySQL数据库');</div><div class="line">+-------------------------------+</div><div class="line">| char_length('MySQL数据库')    |</div><div class="line">+-------------------------------+</div><div class="line">|                             8 |</div><div class="line">+-------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:48:21&gt; select length('MySQL数据库');</div><div class="line">+--------------------------+</div><div class="line">| length('MySQL数据库')    |</div><div class="line">+--------------------------+</div><div class="line">|                       14 |</div><div class="line">+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:48:25&gt; select bit_length('MySQL数据库');</div><div class="line">+------------------------------+</div><div class="line">| bit_length('MySQL数据库')    |</div><div class="line">+------------------------------+</div><div class="line">|                          112 |</div><div class="line">+------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="CONCAT()">CONCAT()</h5><p>对字符串进行合并  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 04:50:15&gt; select concat('MySQL','数据库');</div><div class="line">+-----------------------------+</div><div class="line">| concat('MySQL','数据库')    |</div><div class="line">+-----------------------------+</div><div class="line">| MySQL数据库                 |</div><div class="line">+-----------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="ELT(expr1,expr2…-)">ELT(expr1,expr2….)</h5><p>根据expr1选择expr2….对应的数据  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 05:23:19&gt; select elt(1,'MySQL','Oracle','Python');</div><div class="line">+----------------------------------+</div><div class="line">| elt(1,'MySQL','Oracle','Python') |</div><div class="line">+----------------------------------+</div><div class="line">| MySQL                            |</div><div class="line">+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:23:41&gt; select elt(2,'MySQL','Oracle','Python');</div><div class="line">+----------------------------------+</div><div class="line">| elt(2,'MySQL','Oracle','Python') |</div><div class="line">+----------------------------------+</div><div class="line">| Oracle                           |</div><div class="line">+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:23:45&gt; select elt(0,'MySQL','Oracle','Python');</div><div class="line">+----------------------------------+</div><div class="line">| elt(0,'MySQL','Oracle','Python') |</div><div class="line">+----------------------------------+</div><div class="line">| NULL                             |</div><div class="line">+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:23:49&gt; select elt(5,'MySQL','Oracle','Python');</div><div class="line">+----------------------------------+</div><div class="line">| elt(5,'MySQL','Oracle','Python') |</div><div class="line">+----------------------------------+</div><div class="line">| NULL                             |</div><div class="line">+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:23:54&gt; select elt(,'MySQL','Oracle','Python');</div><div class="line">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''MySQL','Oracle','Python')' at line 1</div><div class="line">root@localhost : wing 05:23:59&gt; select elt(NULL,'MySQL','Oracle','Python');</div><div class="line">+-------------------------------------+</div><div class="line">| elt(NULL,'MySQL','Oracle','Python') |</div><div class="line">+-------------------------------------+</div><div class="line">| NULL                                |</div><div class="line">+-------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="FORMAT(X,D)">FORMAT(X,D)</h5><p>数值的输出结果格式,X类似于‘#,###,###.##’,D为小数点输出的精度。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 05:37:31&gt; select format(837485938.3,4);</div><div class="line">+-----------------------+</div><div class="line">| format(837485938.3,4) |</div><div class="line">+-----------------------+</div><div class="line">| 837,485,938.3000      |</div><div class="line">+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:37:48&gt; select format(837485938.3);</div><div class="line">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ')' at line 1</div><div class="line">root@localhost : wing 05:37:54&gt; select format(837485938.3,0);</div><div class="line">+-----------------------+</div><div class="line">| format(837485938.3,0) |</div><div class="line">+-----------------------+</div><div class="line">| 837,485,938           |</div><div class="line">+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="INSERT(str,x,y,instr)">INSERT(str,x,y,instr)</h5><p>将字符串str从第x位置开始，y个字符长的子串替换为instr<br><figure class="highlight"><table><tr><td class="code"><pre><div class="line">mysql&gt; select * from t;</div><div class="line">+------------+</div><div class="line">| vc         |</div><div class="line">+------------+</div><div class="line">| vcvcvcvcvc |</div><div class="line">| wingwing   |</div><div class="line">+------------+</div><div class="line">2 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select insert(vc,3,5,'fianna') from t;</div><div class="line">+-------------------------+</div><div class="line">| insert(vc,3,5,'fianna') |</div><div class="line">+-------------------------+</div><div class="line">| vcfiannacvc             |</div><div class="line">| wifiannag               |</div><div class="line">+-------------------------+</div><div class="line">2 rows in set (0.04 sec)</div></pre></td></tr></table></figure></p>
<h5 id="LCASE()_&amp;&amp;_LOWER()">LCASE() &amp;&amp; LOWER()</h5><p>LCASE()与LOWER()功能相同,将字符串所有字母小写  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 05:37:58&gt; select lower('MySQL');</div><div class="line">+----------------+</div><div class="line">| lower('MySQL') |</div><div class="line">+----------------+</div><div class="line">| mysql          |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="LEFT(str,len)_&amp;&amp;_RIGHT(str,len)">LEFT(str,len) &amp;&amp; RIGHT(str,len)</h5><p>分别为返回从左边开始返回str第len个字母,从右边开始返回str第len个字母<br><figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 05:41:08&gt; select left('MySQL',1),RIGHT('MySQL',1);</div><div class="line">+-----------------+------------------+</div><div class="line">| left('MySQL',1) | RIGHT('MySQL',1) |</div><div class="line">+-----------------+------------------+</div><div class="line">| M               | L                |</div><div class="line">+-----------------+------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h5 id="LOCATE(substr,str),LOCATE(substr,str,pos)">LOCATE(substr,str),LOCATE(substr,str,pos)</h5><p>LOCATE(substr,str)返回substr在str中第一次出现的位置<br>LOCATE(substr,str,pos)返回sunstr在str中pos位置后第一次出现的位置<br>类似函数有POSITION()<br><figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 05:55:13&gt; select locate('sql','MySQLSQL');</div><div class="line">+--------------------------+</div><div class="line">| locate('sql','MySQLSQL') |</div><div class="line">+--------------------------+</div><div class="line">|                        3 |</div><div class="line">+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:55:18&gt; select locate('SQL','MySQLSQL');</div><div class="line">+--------------------------+</div><div class="line">| locate('SQL','MySQLSQL') |</div><div class="line">+--------------------------+</div><div class="line">|                        3 |</div><div class="line">+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:55:26&gt; select locate('SQL','MySQLSQL',4);</div><div class="line">+----------------------------+</div><div class="line">| locate('SQL','MySQLSQL',4) |</div><div class="line">+----------------------------+</div><div class="line">|                          6 |</div><div class="line">+----------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h5 id="LPAD(str,n,pad)">LPAD(str,n,pad)</h5><p>用字符串pad对str最左边进行填充，直到长度为n个字符长度<br><figure class="highlight"><table><tr><td class="code"><pre><div class="line">mysql&gt; select * from t;</div><div class="line">+------+</div><div class="line">| vc   |</div><div class="line">+------+</div><div class="line">| vc   |</div><div class="line">| wing |</div><div class="line">+------+</div><div class="line">2 rows in set (0.01 sec)</div><div class="line"></div><div class="line">mysql&gt; select lpad(vc,5,'pad') from t;</div><div class="line">+------------------+</div><div class="line">| lpad(vc,5,'pad') |</div><div class="line">+------------------+</div><div class="line">| padvc            |</div><div class="line">| pwing            |</div><div class="line">+------------------+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h5 id="RPAD(str,n,pad)">RPAD(str,n,pad)</h5><p>用字符串pad对str最右边进行填充，直到长度为n个字符长度<br><figure class="highlight"><table><tr><td class="code"><pre><div class="line"></div><div class="line">mysql&gt; select * from t;</div><div class="line">+------+</div><div class="line">| vc   |</div><div class="line">+------+</div><div class="line">| vc   |</div><div class="line">| wing |</div><div class="line">+------+</div><div class="line">2 rows in set (0.01 sec)</div><div class="line"></div><div class="line">mysql&gt; select rpad(vc,5,'mysql') from t; </div><div class="line">+--------------------+</div><div class="line">| rpad(vc,5,'mysql') |</div><div class="line">+--------------------+</div><div class="line">| vcmys              |</div><div class="line">| wingm              |</div><div class="line">+--------------------+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h5 id="LTRIM()_&amp;&amp;_RTRIM()_&amp;&amp;_TRIM()">LTRIM() &amp;&amp; RTRIM() &amp;&amp; TRIM()</h5><p>LTRIM()返回删除左边空格的字符串<br>RTRIM()返回删除右边空格的字符串<br>TRIM()返回删除左右空格的字符串<br><figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 06:12:24&gt; select ltrim('   MySQL   ');</div><div class="line">+----------------------+</div><div class="line">| ltrim('   MySQL   ') |</div><div class="line">+----------------------+</div><div class="line">| MySQL                |</div><div class="line">+----------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 06:12:31&gt; select rtrim('   MySQL   ');</div><div class="line">+----------------------+</div><div class="line">| rtrim('   MySQL   ') |</div><div class="line">+----------------------+</div><div class="line">|    MySQL             |</div><div class="line">+----------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 06:12:34&gt; select trim('   MySQL   ');</div><div class="line">+---------------------+</div><div class="line">| trim('   MySQL   ') |</div><div class="line">+---------------------+</div><div class="line">| MySQL               |</div><div class="line">+---------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h5 id="repeat(str,count)">repeat(str,count)</h5><p>重复count次str<br><figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 06:04:49&gt; select repeat('MySQL',2);</div><div class="line">+-------------------+</div><div class="line">| repeat('MySQL',2) |</div><div class="line">+-------------------+</div><div class="line">| MySQLMySQL        |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line"></div><div class="line">root@localhost : wing 06:04:56&gt; select repeat(null,2);</div><div class="line">+----------------+</div><div class="line">| repeat(null,2) |</div><div class="line">+----------------+</div><div class="line">| NULL           |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec</div></pre></td></tr></table></figure></p>
<h5 id="replace(str,from_str,to_str)">replace(str,from_str,to_str)</h5><p>将str中的from_str替换为to_str</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 06:07:13&gt; Select replace('www.mysql.com','mysql','MySQL');</div><div class="line">+------------------------------------------+</div><div class="line">| replace('www.mysql.com','mysql','MySQL') |</div><div class="line">+------------------------------------------+</div><div class="line">| www.MySQL.com                            |</div><div class="line">+------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="reverse(str)">reverse(str)</h5><p>将str逆序输出  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 06:08:26&gt; select reverse('MySQL');</div><div class="line">+------------------+</div><div class="line">| reverse('MySQL') |</div><div class="line">+------------------+</div><div class="line">| LQSyM            |</div><div class="line">+------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="SPACE(n)">SPACE(n)</h5><p>返回n个空格  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 06:12:38&gt; select space(6);</div><div class="line">+----------+</div><div class="line">| space(6) |</div><div class="line">+----------+</div><div class="line">|          |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 06:15:52&gt; select space(100);</div><div class="line">+------------------------------------------------------------------------------------------------------+</div><div class="line">| space(100)                                                                                           |</div><div class="line">+------------------------------------------------------------------------------------------------------+</div><div class="line">|                                                                                                      |</div><div class="line">+------------------------------------------------------------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="SUBSTRING(str,m,n)">SUBSTRING(str,m,n)</h5><p>返回从字符串str的m位置起的n个字符长度的字符串<br><figure class="highlight"><table><tr><td class="code"><pre><div class="line">mysql&gt; select * from t;</div><div class="line">+------------+</div><div class="line">| vc         |</div><div class="line">+------------+</div><div class="line">| vcvcvcvcvc |</div><div class="line">| wingwing   |</div><div class="line">+------------+</div><div class="line">2 rows in set (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select substring(vc,3,5) from t;</div><div class="line">+-------------------+</div><div class="line">| substring(vc,3,5) |</div><div class="line">+-------------------+</div><div class="line">| vcvcv             |</div><div class="line">| ngwin             |</div><div class="line">+-------------------+</div><div class="line">2 rows in set (0.00 sec)</div></pre></td></tr></table></figure></p>
<h5 id="UCASE()_&amp;&amp;_UPPER()">UCASE() &amp;&amp; UPPER()</h5><p>将str大写  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 06:16:11&gt; select UCASE('python'),UPPER('python');</div><div class="line">+-----------------+-----------------+</div><div class="line">| UCASE('python') | UPPER('python') |</div><div class="line">+-----------------+-----------------+</div><div class="line">| PYTHON          | PYTHON          |</div><div class="line">+-----------------+-----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h2 id="数值函数">数值函数</h2><h5 id="CEIL()_&amp;_CEILING()">CEIL() &amp; CEILING()</h5><p>两者功能相同,返回比给出的参数大的最小的整数。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 04:18:06&gt; select ceil(9.99);</div><div class="line">+------------+</div><div class="line">| ceil(9.99) |</div><div class="line">+------------+</div><div class="line">|         10 |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:18:20&gt; select ceiling(9.99);</div><div class="line">+---------------+</div><div class="line">| ceiling(9.99) |</div><div class="line">+---------------+</div><div class="line">|            10 |</div><div class="line">+---------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:18:24&gt; select ceil(null);</div><div class="line">+------------+</div><div class="line">| ceil(null) |</div><div class="line">+------------+</div><div class="line">|       NULL |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:18:29&gt; select ceiling(null);</div><div class="line">+---------------+</div><div class="line">| ceiling(null) |</div><div class="line">+---------------+</div><div class="line">|          NULL |</div><div class="line">+---------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:18:32&gt; select ceil(0);</div><div class="line">+---------+</div><div class="line">| ceil(0) |</div><div class="line">+---------+</div><div class="line">|       0 |</div><div class="line">+---------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:18:36&gt; select ceiling(-9.99);</div><div class="line">+----------------+</div><div class="line">| ceiling(-9.99) |</div><div class="line">+----------------+</div><div class="line">|             -9 |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="CRC32()">CRC32()</h5><p>用于循环冗余校验,返回一个32位无符号数值,是对一个传送的数据块进行校验,是一种高效的差错控制方法。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 04:21:43&gt; select crc32('MySQL');</div><div class="line">+----------------+</div><div class="line">| crc32('MySQL') |</div><div class="line">+----------------+</div><div class="line">|     3259397556 |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:23:41&gt; select crc32('mysql');</div><div class="line">+----------------+</div><div class="line">| crc32('mysql') |</div><div class="line">+----------------+</div><div class="line">|     2501908538 |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="FLOOR()">FLOOR()</h5><p>返回比参数小的最大的整数。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 04:41:32&gt; select floor(1.23);</div><div class="line">+-------------+</div><div class="line">| floor(1.23) |</div><div class="line">+-------------+</div><div class="line">|           1 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:41:39&gt; select floor(0);</div><div class="line">+----------+</div><div class="line">| floor(0) |</div><div class="line">+----------+</div><div class="line">|        0 |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:41:42&gt; select floor(null);</div><div class="line">+-------------+</div><div class="line">| floor(null) |</div><div class="line">+-------------+</div><div class="line">|        NULL |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 04:41:47&gt; select floor(-1.23);</div><div class="line">+--------------+</div><div class="line">| floor(-1.23) |</div><div class="line">+--------------+</div><div class="line">|           -2 |</div><div class="line">+--------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="POW(x,y)_&amp;&amp;_POWER(x,y)">POW(x,y) &amp;&amp; POWER(x,y)</h5><p>两者功能相同,求x的y次方  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 04:49:54&gt; select power(2,4);</div><div class="line">+------------+</div><div class="line">| power(2,4) |</div><div class="line">+------------+</div><div class="line">|         16 |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="RAND()_&amp;&amp;_RAND(N)">RAND() &amp;&amp; RAND(N)</h5><ol>
<li>不论是同一个事务中还是非同一个事务中,包含RAND()函数的SQL语句之前都会记录两个会话级的参数RAND_SEED1和RAND_SEED2,由这两个参数根据RAND()产生随机数的算法便可得到一个确定的数值,所以即使在binlog_format=STATEMENT模式下,主从复制之间使用RAND()函数也可以确保数据一致;  </li>
<li>RAND()函数为产生随机数在[0,1)之间;  </li>
<li>对于RAND(N),参数N用作种子值,种子值即binlog日志中RAND_SEED1和RAND_SEED2,产生相同的随机数;  </li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 05:08:51&gt; select * from rand_data;</div><div class="line">+------+</div><div class="line">| id   |</div><div class="line">+------+</div><div class="line">|    1 |</div><div class="line">|    2 |</div><div class="line">|    3 |</div><div class="line">+------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line"># 在如下示例中可观察到,rand()的函数产生的随机数随机改变,rand(n)的函数产生的随机数是确定值</div><div class="line">root@localhost : wing 05:08:58&gt; select id , rand() from rand_data;</div><div class="line">+------+---------------------+</div><div class="line">| id   | rand()              |</div><div class="line">+------+---------------------+</div><div class="line">|    1 | 0.07249362959758716 |</div><div class="line">|    2 |  0.3962498189846518 |</div><div class="line">|    3 |  0.7637682368641423 |</div><div class="line">+------+---------------------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:09:08&gt; select id , rand(1) from rand_data;</div><div class="line">+------+---------------------+</div><div class="line">| id   | rand(1)             |</div><div class="line">+------+---------------------+</div><div class="line">|    1 | 0.40540353712197724 |</div><div class="line">|    2 |  0.8716141803857071 |</div><div class="line">|    3 |  0.1418603212962489 |</div><div class="line">+------+---------------------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:09:14&gt; select id , rand() from rand_data;</div><div class="line">+------+--------------------+</div><div class="line">| id   | rand()             |</div><div class="line">+------+--------------------+</div><div class="line">|    1 | 0.6300917581004014 |</div><div class="line">|    2 | 0.8591541106432249 |</div><div class="line">|    3 | 0.4054953096485653 |</div><div class="line">+------+--------------------+</div><div class="line">3 rows in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:09:21&gt; select id , rand(1) from rand_data;</div><div class="line">+------+---------------------+</div><div class="line">| id   | rand(1)             |</div><div class="line">+------+---------------------+</div><div class="line">|    1 | 0.40540353712197724 |</div><div class="line">|    2 |  0.8716141803857071 |</div><div class="line">|    3 |  0.1418603212962489 |</div><div class="line">+------+---------------------+</div><div class="line">3 rows in set (0.00 sec)</div></pre></td></tr></table></figure>
<ol>
<li>对于想获得在指定范围内的随机数,可以通过不同的函数构造得到。  </li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line"># 获得7到12之间的随机整数</div><div class="line">root@localhost : wing 05:43:44&gt; select floor(7+rand()*5);</div><div class="line">+-------------------+</div><div class="line">| floor(7+rand()*5) |</div><div class="line">+-------------------+</div><div class="line">|                 7 |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:43:50&gt; select floor(7+rand()*5);</div><div class="line">+-------------------+</div><div class="line">| floor(7+rand()*5) |</div><div class="line">+-------------------+</div><div class="line">|                 9 |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="ROUND(X),ROUND(X,D)">ROUND(X),ROUND(X,D)</h5><p>将参数X四舍五入到指定的对应的D精度的值,如果D没有指定,则默认为0。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line"></div><div class="line">root@localhost : wing 05:50:05&gt; select round(2.34);</div><div class="line">+-------------+</div><div class="line">| round(2.34) |</div><div class="line">+-------------+</div><div class="line">|           2 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:50:08&gt; select round(2.78);</div><div class="line">+-------------+</div><div class="line">| round(2.78) |</div><div class="line">+-------------+</div><div class="line">|           3 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:50:11&gt; select round(2.34,1);</div><div class="line">+---------------+</div><div class="line">| round(2.34,1) |</div><div class="line">+---------------+</div><div class="line">|           2.3 |</div><div class="line">+---------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:50:17&gt; select round(2.78,1);</div><div class="line">+---------------+</div><div class="line">| round(2.78,1) |</div><div class="line">+---------------+</div><div class="line">|           2.8 |</div><div class="line">+---------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:50:24&gt; select round(2.5,0);</div><div class="line">+--------------+</div><div class="line">| round(2.5,0) |</div><div class="line">+--------------+</div><div class="line">|            3 |</div><div class="line">+--------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="SIGN()">SIGN()</h5><p>返回参数的符号,-1代表负数,0代表0,1代表正数。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 05:52:04&gt; select sign(-123);</div><div class="line">+------------+</div><div class="line">| sign(-123) |</div><div class="line">+------------+</div><div class="line">|         -1 |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:57:51&gt; select sign(0);</div><div class="line">+---------+</div><div class="line">| sign(0) |</div><div class="line">+---------+</div><div class="line">|       0 |</div><div class="line">+---------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 05:57:54&gt; select sign(123);</div><div class="line">+-----------+</div><div class="line">| sign(123) |</div><div class="line">+-----------+</div><div class="line">|         1 |</div><div class="line">+-----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="SQRT()">SQRT()</h5><p>平方根函数  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 09:18:43&gt; select sqrt(16);</div><div class="line">+----------+</div><div class="line">| sqrt(16) |</div><div class="line">+----------+</div><div class="line">|        4 |</div><div class="line">+----------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 09:18:49&gt; select sqrt(-16);</div><div class="line">+-----------+</div><div class="line">| sqrt(-16) |</div><div class="line">+-----------+</div><div class="line">|      NULL |</div><div class="line">+-----------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 09:18:51&gt; select sqrt(null);</div><div class="line">+------------+</div><div class="line">| sqrt(null) |</div><div class="line">+------------+</div><div class="line">|       NULL |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="TRUNCATE(X,D)">TRUNCATE(X,D)</h5><p>对参数X取D精度的值,其后的值将都被截取掉。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 09:20:48&gt; select truncate(1.7699,2);</div><div class="line">+--------------------+</div><div class="line">| truncate(1.7699,2) |</div><div class="line">+--------------------+</div><div class="line">|               1.76 |</div><div class="line">+--------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h2 id="时间类型函数">时间类型函数</h2><h5 id="ADDDATE()">ADDDATE()</h5><p>在某一个日期之后增加一定的时间间隔并输出。<br>ADDDATE(date,INTERVAL expr unit), ADDDATE(expr,days)  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 10:16:38&gt; select adddate(now(),interval 31 day);</div><div class="line">+--------------------------------+</div><div class="line">| adddate(now(),interval 31 day) |</div><div class="line">+--------------------------------+</div><div class="line">| 2015-09-27 10:16:44            |</div><div class="line">+--------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 10:16:44&gt; select adddate(now(),31);</div><div class="line">+---------------------+</div><div class="line">| adddate(now(),31)   |</div><div class="line">+---------------------+</div><div class="line">| 2015-09-27 10:16:50 |</div><div class="line">+---------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="ADDTIME(expr1,expr2)">ADDTIME(expr1,expr2)</h5><p>在expr1的基础上加上expr2,形成新的时间值。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 10:40:21&gt; select now(),addtime(now(),'1 1:1:1');</div><div class="line">+---------------------+--------------------------+</div><div class="line">| now()               | addtime(now(),'1 1:1:1') |</div><div class="line">+---------------------+--------------------------+</div><div class="line">| 2015-08-27 10:40:33 | 2015-08-28 11:41:34      |</div><div class="line">+---------------------+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="CONVERT_TZ(dt,from_tz,to_tz)">CONVERT_TZ(dt,from_tz,to_tz)</h5><p>将dt从from_tz的时区转换到to_tz的时区,在该函数中,dt会被认为from_tz时区的时间值。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 10:47:37&gt; select now(),convert_tz(now(),'+08:00','+00:00'),convert_tz(now(),'+02:00','+00:00'),convert_tz(now(),'+02:00','-02:00');</div><div class="line">+---------------------+-------------------------------------+-------------------------------------+-------------------------------------+</div><div class="line">| now()               | convert_tz(now(),'+08:00','+00:00') | convert_tz(now(),'+02:00','+00:00') | convert_tz(now(),'+02:00','-02:00') |</div><div class="line">+---------------------+-------------------------------------+-------------------------------------+-------------------------------------+</div><div class="line">| 2015-08-27 10:49:44 | 2015-08-27 02:49:44                 | 2015-08-27 08:49:44                 | 2015-08-27 06:49:44                 |</div><div class="line">+---------------------+-------------------------------------+-------------------------------------+-------------------------------------+</div></pre></td></tr></table></figure>
<h5 id="CURDATE()_&amp;_CURRENT_DATE_&amp;_CURRENT_DATE()">CURDATE() &amp; CURRENT_DATE &amp; CURRENT_DATE()</h5><p>返回当前日期  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 10:56:47&gt; select curdate();</div><div class="line">+------------+</div><div class="line">| curdate()  |</div><div class="line">+------------+</div><div class="line">| 2015-08-27 |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="CURRENT_TIME([fsp])_&amp;_CURTIMR()">CURRENT_TIME([fsp]) &amp; CURTIMR()</h5><p>返回当前时间  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 10:56:51&gt; select current_time(6);</div><div class="line">+-----------------+</div><div class="line">| current_time(6) |</div><div class="line">+-----------------+</div><div class="line">| 10:57:23.324593 |</div><div class="line">+-----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="CURRENT_TIMESTAMP([fsp])_&amp;_CURRENT_TIMESTAMP_&amp;_NOW()">CURRENT_TIMESTAMP([fsp]) &amp; CURRENT_TIMESTAMP &amp; NOW()</h5><p>返回当前日期+时间  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 10:57:23&gt; select current_timestamp(6);</div><div class="line">+----------------------------+</div><div class="line">| current_timestamp(6)       |</div><div class="line">+----------------------------+</div><div class="line">| 2015-08-27 10:57:43.637662 |</div><div class="line">+----------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="DATE(expr)">DATE(expr)</h5><p>返回expr的日期部分。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 10:59:53&gt; select date(now());</div><div class="line">+-------------+</div><div class="line">| date(now()) |</div><div class="line">+-------------+</div><div class="line">| 2015-08-27  |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="DATEDIFF(expr1,expr2)">DATEDIFF(expr1,expr2)</h5><p>返回expr1-expr2得到的天数</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 10:59:58&gt; select datediff(now(),'2015-01-25');</div><div class="line">+------------------------------+</div><div class="line">| datediff(now(),'2015-01-25') |</div><div class="line">+------------------------------+</div><div class="line">|                          214 |</div><div class="line">+------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="DATE_ADD()_&amp;_DATE_SUB()">DATE_ADD() &amp; DATE_SUB()</h5><p>在date后增加时间间隔：DATE_ADD(date,INTERVAL expr unit)<br>在date后减少时间间隔：DATE_SUB(date,INTERVAL expr unit)<br><img src="E:\MDimages/date_add_and_date_sub_interval_format.png" alt="">  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:08:07&gt; select date_add('2015-01-25 00:00:00', interval 5 day),date_sub('2015-01-25 00:00:00',interval 5 day);</div><div class="line">+-------------------------------------------------+------------------------------------------------+</div><div class="line">| date_add('2015-01-25 00:00:00', interval 5 day) | date_sub('2015-01-25 00:00:00',interval 5 day) |</div><div class="line">+-------------------------------------------------+------------------------------------------------+</div><div class="line">| 2015-01-30 00:00:00                             | 2015-01-20 00:00:00                            |</div><div class="line">+-------------------------------------------------+------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:11:32&gt; select date_add('2015-01-25 00:00:00', interval '5 2' day_hour),date_sub('2015-01-25 00:00:00',interval '5 2' day_hour);</div><div class="line">+----------------------------------------------------------+---------------------------------------------------------+</div><div class="line">| date_add('2015-01-25 00:00:00', interval '5 2' day_hour) | date_sub('2015-01-25 00:00:00',interval '5 2' day_hour) |</div><div class="line">+----------------------------------------------------------+---------------------------------------------------------+</div><div class="line">| 2015-01-30 02:00:00                                      | 2015-01-19 22:00:00                                     |</div><div class="line">+----------------------------------------------------------+---------------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:11:40&gt; select date_add('2015-01-25 00:00:00', interval '5 2:2:2' day_second),date_sub('2015-01-25 00:00:00',interval '5 2:2:2' day_second);</div><div class="line">+----------------------------------------------------------------+---------------------------------------------------------------+</div><div class="line">| date_add('2015-01-25 00:00:00', interval '5 2:2:2' day_second) | date_sub('2015-01-25 00:00:00',interval '5 2:2:2' day_second) |</div><div class="line">+----------------------------------------------------------------+---------------------------------------------------------------+</div><div class="line">| 2015-01-30 02:02:02                                            | 2015-01-19 21:57:58                                           |</div><div class="line">+----------------------------------------------------------------+---------------------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="DATE_DORMAT(date,format)">DATE_DORMAT(date,format)</h5><p>将日期以指定的format返回。<br>关于format的形式,详情见：<a href="http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html#function_date-format" target="_blank" rel="external">http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html#function_date-format</a>  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:22:35&gt; select date_format('2015-01-25','%W %M %Y');</div><div class="line">+--------------------------------------+</div><div class="line">| date_format('2015-01-25','%W %M %Y') |</div><div class="line">+--------------------------------------+</div><div class="line">| Sunday January 2015                  |</div><div class="line">+--------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="DAYNAME(date)">DAYNAME(date)</h5><p>返回星期几。</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:26:16&gt; select dayname('2015-01-25');</div><div class="line">+-----------------------+</div><div class="line">| dayname('2015-01-25') |</div><div class="line">+-----------------------+</div><div class="line">| Sunday                |</div><div class="line">+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="DAYOFMONTH()_&amp;_DAYOFWEEK_&amp;_DAYOFYEAR()">DAYOFMONTH() &amp; DAYOFWEEK &amp; DAYOFYEAR()</h5><p>DAYOFMONTH()：返回日期在这个月的第多少天<br>DAYOFWEEK()：返回日期在这个星期的第多少天,星期天为第一天<br>DAYOFYEAR()：返回日期在这一年的第多少天  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 11:33:22&gt; select dayofmonth('2015-02-14');</div><div class="line">+--------------------------+</div><div class="line">| dayofmonth('2015-02-14') |</div><div class="line">+--------------------------+</div><div class="line">|                       14 |</div><div class="line">+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:34:30&gt; select dayofweek('2015-01-25');</div><div class="line">+-------------------------+</div><div class="line">| dayofweek('2015-01-25') |</div><div class="line">+-------------------------+</div><div class="line">|                       1 |</div><div class="line">+-------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 11:35:41&gt; select dayofyear('2015-02-14');</div><div class="line">+-------------------------+</div><div class="line">| dayofyear('2015-02-14') |</div><div class="line">+-------------------------+</div><div class="line">|                      45 |</div><div class="line">+-------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="from_days(N)">from_days(N)</h5><p>根据数值N换算出日期,开始日期为：0001-01-01</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 12:01:34&gt; SELECT FROM_DAYS(365);</div><div class="line">+----------------+</div><div class="line">| FROM_DAYS(365) |</div><div class="line">+----------------+</div><div class="line">| 0000-00-00     |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line"># from_days从这个日期开始记起,从N=366开始有效</div><div class="line">root@localhost : wing 12:01:36&gt; SELECT FROM_DAYS(366);</div><div class="line">+----------------+</div><div class="line">| FROM_DAYS(366) |</div><div class="line">+----------------+</div><div class="line">| 0001-01-01     |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 12:01:39&gt; SELECT FROM_DAYS(367);</div><div class="line">+----------------+</div><div class="line">| FROM_DAYS(367) |</div><div class="line">+----------------+</div><div class="line">| 0001-01-02     |</div><div class="line">+----------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 12:02:35&gt; SELECT FROM_DAYS(3670);</div><div class="line">+-----------------+</div><div class="line">| FROM_DAYS(3670) |</div><div class="line">+-----------------+</div><div class="line">| 0010-01-18      |</div><div class="line">+-----------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="from_unixtime()">from_unixtime()</h5><p>FROM_UNIXTIME(unix_timestamp)<br>FROM_UNIXTIME(unix_timestamp,format)<br>将数值转换为时间</p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 12:05:32&gt; select from_unixtime(0);</div><div class="line">+---------------------+</div><div class="line">| from_unixtime(0)    |</div><div class="line">+---------------------+</div><div class="line">| 1970-01-01 08:00:00 |</div><div class="line">+---------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 12:05:37&gt; select from_unixtime(125);</div><div class="line">+---------------------+</div><div class="line">| from_unixtime(125)  |</div><div class="line">+---------------------+</div><div class="line">| 1970-01-01 08:02:05 |</div><div class="line">+---------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 12:05:48&gt; select from_unixtime(125,'%W');</div><div class="line">+-------------------------+</div><div class="line">| from_unixtime(125,'%W') |</div><div class="line">+-------------------------+</div><div class="line">| Thursday                |</div><div class="line">+-------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="get_format()">get_format()</h5><p>以指定的格式输出时间<br>关于格式请见：<a href="http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html#function_get-format" target="_blank" rel="external">http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html#function_get-format</a>  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 01:17:58&gt; SELECT DATE_FORMAT('2015-01-25',GET_FORMAT(DATE,'EUR'));</div><div class="line">+--------------------------------------------------+</div><div class="line">| DATE_FORMAT('2015-01-25',GET_FORMAT(DATE,'EUR')) |</div><div class="line">+--------------------------------------------------+</div><div class="line">| 25.01.2015                                       |</div><div class="line">+--------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line"># get_format()函数不可单独使用</div><div class="line">root@localhost : wing 01:18:20&gt; select GET_format('2015-01-25','EUR');</div><div class="line">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''2015-01-25','EUR')' at line 1</div><div class="line"></div><div class="line">root@localhost : wing 01:19:41&gt;  SELECT DATE_FORMAT('2015-01-25 00:00:00',GET_FORMAT(DATE,'EUR'));</div><div class="line">+-----------------------------------------------------------+</div><div class="line">| DATE_FORMAT('2015-01-25 00:00:00',GET_FORMAT(DATE,'EUR')) |</div><div class="line">+-----------------------------------------------------------+</div><div class="line">| 25.01.2015                                                |</div><div class="line">+-----------------------------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="HOUR(time)">HOUR(time)</h5><p>返回时间的小时数,它可以超过23。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 01:23:51&gt; select now();</div><div class="line">+---------------------+</div><div class="line">| now()               |</div><div class="line">+---------------------+</div><div class="line">| 2015-08-27 13:24:00 |</div><div class="line">+---------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 01:24:00&gt; select hour(now());</div><div class="line">+-------------+</div><div class="line">| hour(now()) |</div><div class="line">+-------------+</div><div class="line">|          13 |</div><div class="line">+-------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 01:24:27&gt; select hour('356:24:24');</div><div class="line">+-------------------+</div><div class="line">| hour('356:24:24') |</div><div class="line">+-------------------+</div><div class="line">|               356 |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="LAST_DAY(date)">LAST_DAY(date)</h5><p>返回date所在月份的最后一天日期。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 01:48:06&gt; select last_day('2015-01-25');</div><div class="line">+------------------------+</div><div class="line">| last_day('2015-01-25') |</div><div class="line">+------------------------+</div><div class="line">| 2015-01-31             |</div><div class="line">+------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 01:48:23&gt; select last_day('2015-02-02');</div><div class="line">+------------------------+</div><div class="line">| last_day('2015-02-02') |</div><div class="line">+------------------------+</div><div class="line">| 2015-02-28             |</div><div class="line">+------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="MAKEDATE()_&amp;_MAKETIME()">MAKEDATE() &amp; MAKETIME()</h5><p>MAKEDATE(year,dayofyear)：year为年份,dayofyear为一年天数<br>MAKETIME(hour,minute,second)  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 01:48:29&gt; select makedate(2015,35);</div><div class="line">+-------------------+</div><div class="line">| makedate(2015,35) |</div><div class="line">+-------------------+</div><div class="line">| 2015-02-04        |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 01:52:37&gt; select maketime(13,25,25);</div><div class="line">+--------------------+</div><div class="line">| maketime(13,25,25) |</div><div class="line">+--------------------+</div><div class="line">| 13:25:25           |</div><div class="line">+--------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="MICROSECOND()_&amp;_MINUTE()_&amp;_MONTH()_&amp;_SECOND()_&amp;_TIME()">MICROSECOND() &amp; MINUTE() &amp; MONTH() &amp; SECOND() &amp; TIME()</h5><p>分别为返回时间的微秒,分钟,月份,秒数,时间。  </p>
<h5 id="MONTHNAME(date)">MONTHNAME(date)</h5><p>返回date的月份值  </p>
<h5 id="NOW()">NOW()</h5><p>返回语句执行时的日期+时间。<br>now()在同一个语句中时间是一致的。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 01:56:49&gt; select now(),sleep(2),now();</div><div class="line">+---------------------+----------+---------------------+</div><div class="line">| now()               | sleep(2) | now()               |</div><div class="line">+---------------------+----------+---------------------+</div><div class="line">| 2015-08-27 13:57:00 |        0 | 2015-08-27 13:57:00 |</div><div class="line">+---------------------+----------+---------------------+</div><div class="line">1 row in set (2.00 sec)</div></pre></td></tr></table></figure>
<h5 id="SEC_TO_TIME(seconds)">SEC_TO_TIME(seconds)</h5><p>将seconds计算为时分秒返回。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 01:57:02&gt; select sec_to_time(125);</div><div class="line">+------------------+</div><div class="line">| sec_to_time(125) |</div><div class="line">+------------------+</div><div class="line">| 00:02:05         |</div><div class="line">+------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="STR_TO_DATE(str,format)">STR_TO_DATE(str,format)</h5><p>将str以format的形式返回一个时间值。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:01:40&gt; select str_to_date('25,01,2015','%Y,%m,%d');</div><div class="line">+--------------------------------------+</div><div class="line">| str_to_date('25,01,2015','%Y,%m,%d') |</div><div class="line">+--------------------------------------+</div><div class="line">| 2025-01-20                           |</div><div class="line">+--------------------------------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div><div class="line"></div><div class="line">Warning (Code 1292): Truncated incorrect date value: '25,01,2015'</div><div class="line">root@localhost : wing 02:01:49&gt; select str_to_date('2015,01,25','%Y,%m,%d');</div><div class="line">+--------------------------------------+</div><div class="line">| str_to_date('2015,01,25','%Y,%m,%d') |</div><div class="line">+--------------------------------------+</div><div class="line">| 2015-01-25                           |</div><div class="line">+--------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 02:02:04&gt; select str_to_date('2015,1,2.5','%Y,%m,%d');</div><div class="line">+--------------------------------------+</div><div class="line">| str_to_date('2015,1,2.5','%Y,%m,%d') |</div><div class="line">+--------------------------------------+</div><div class="line">| 2015-01-02                           |</div><div class="line">+--------------------------------------+</div><div class="line">1 row in set, 1 warning (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="SUBDATE()_&amp;_SUBTIME()">SUBDATE() &amp; SUBTIME()</h5><p>SUBDATE()：将日期减少时间间隔后,返回时间值<br>SUBDATE(date,INTERVAL expr unit)<br>SUBDATE(expr,days)<br>SUBTIME()：将时间减少时间间隔后,返回时间值<br>SUBTIME(expr1,expr2)  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:08:20&gt; select subdate(now(),5),subdate(now(),interval 5 hour),subtime(now(),'2015-01-25 00:00:00');</div><div class="line">+---------------------+--------------------------------+--------------------------------------+</div><div class="line">| subdate(now(),5)    | subdate(now(),interval 5 hour) | subtime(now(),'2015-01-25 00:00:00') |</div><div class="line">+---------------------+--------------------------------+--------------------------------------+</div><div class="line">| 2015-08-22 14:08:33 | 2015-08-27 09:08:33            | NULL                                 |</div><div class="line">+---------------------+--------------------------------+--------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="SYSDATE([fsp])">SYSDATE([fsp])</h5><p>返回SYSDATE()执行时的时间值。<br>当使用–sysdate-is-now时,sysdate()与now()一样,否则存在不同,不同之处见举例。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line"># 以下均在未使用--sysdate-is-now时</div><div class="line">root@localhost : wing 02:13:49&gt; select now(),sysdate(),sleep(2),now(),sysdate();</div><div class="line">+---------------------+---------------------+----------+---------------------+---------------------+</div><div class="line">| now()               | sysdate()           | sleep(2) | now()               | sysdate()           |</div><div class="line">+---------------------+---------------------+----------+---------------------+---------------------+</div><div class="line">| 2015-08-27 14:14:44 | 2015-08-27 14:14:44 |        0 | 2015-08-27 14:14:44 | 2015-08-27 14:14:46 |</div><div class="line">+---------------------+---------------------+----------+---------------------+---------------------+</div><div class="line">1 row in set (2.00 sec)</div><div class="line"></div><div class="line"># 如上可见,now()值是相同的,因为now()是指语句开始执行时的时间值,sysdate()是不同的,因为sysdate()指的是执行sysdate时的时间值。</div></pre></td></tr></table></figure>
<h5 id="TIMEDIFF(expr1,expr2)">TIMEDIFF(expr1,expr2)</h5><p>返回expr1-expr2之间的差值时间。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:20:02&gt; select timediff(time(now()),'08:55:00');</div><div class="line">+----------------------------------+</div><div class="line">| timediff(time(now()),'08:55:00') |</div><div class="line">+----------------------------------+</div><div class="line">| 05:25:18                         |</div><div class="line">+----------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="TIMESTAMP()_&amp;_TIMESTAMPADD()_&amp;_TIMESTAMPDIFF()">TIMESTAMP() &amp; TIMESTAMPADD() &amp; TIMESTAMPDIFF()</h5><h5 id="TO_DAYS()_&amp;_TO_SECONDS()">TO_DAYS() &amp; TO_SECONDS()</h5><p>TO_DAYS()：返回日期的天数,开始日期为0000-00-00<br>TO_SECONDS()：返回日期的秒数,开始日期为0000-00-00  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:25:47&gt; select to_days('0000-01-01');</div><div class="line">+-----------------------+</div><div class="line">| to_days('0000-01-01') |</div><div class="line">+-----------------------+</div><div class="line">|                     1 |</div><div class="line">+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 02:25:53&gt; select to_days('2015-01-25');</div><div class="line">+-----------------------+</div><div class="line">| to_days('2015-01-25') |</div><div class="line">+-----------------------+</div><div class="line">|                735988 |</div><div class="line">+-----------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 02:26:02&gt; select to_seconds('2015-01-25');</div><div class="line">+--------------------------+</div><div class="line">| to_seconds('2015-01-25') |</div><div class="line">+--------------------------+</div><div class="line">|              63589363200 |</div><div class="line">+--------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="UNIX_TIMESTAMP([date])">UNIX_TIMESTAMP([date])</h5><p>返回unix timestamp值，从’1970-01-01 00:00:00’UTC时区的时间值开始。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:28:22&gt; select unix_timestamp('2015-01-25 00:00:00');</div><div class="line">+---------------------------------------+</div><div class="line">| unix_timestamp('2015-01-25 00:00:00') |</div><div class="line">+---------------------------------------+</div><div class="line">|                            1422115200 |</div><div class="line">+---------------------------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="UTC_DATE_&amp;_UTC_DATE()_&amp;_UTC_TIME_&amp;_UTC_TIME()_&amp;_UTC_TIMESTAMP_&amp;_UTC_TIMESTAMP()">UTC_DATE &amp; UTC_DATE() &amp; UTC_TIME &amp; UTC_TIME() &amp; UTC_TIMESTAMP &amp; UTC_TIMESTAMP()</h5><p>将日期或时间以UTC时区返回。  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:31:31&gt; select utc_date();</div><div class="line">+------------+</div><div class="line">| utc_date() |</div><div class="line">+------------+</div><div class="line">| 2015-08-27 |</div><div class="line">+------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 02:32:51&gt; select utc_timestamp();</div><div class="line">+---------------------+</div><div class="line">| utc_timestamp()     |</div><div class="line">+---------------------+</div><div class="line">| 2015-08-27 06:32:57 |</div><div class="line">+---------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 02:32:57&gt; select now(),utc_timestamp();</div><div class="line">+---------------------+---------------------+</div><div class="line">| now()               | utc_timestamp()     |</div><div class="line">+---------------------+---------------------+</div><div class="line">| 2015-08-27 14:33:10 | 2015-08-27 06:33:10 |</div><div class="line">+---------------------+---------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 02:33:10&gt; select utc_timestamp;</div><div class="line">+---------------------+</div><div class="line">| utc_timestamp       |</div><div class="line">+---------------------+</div><div class="line">| 2015-08-27 06:34:10 |</div><div class="line">+---------------------+</div><div class="line">1 row in set (0.00 sec)</div><div class="line"></div><div class="line">root@localhost : wing 02:34:10&gt; select time(now()),utc_time;</div><div class="line">+-------------+----------+</div><div class="line">| time(now()) | utc_time |</div><div class="line">+-------------+----------+</div><div class="line">| 14:35:58    | 06:35:58 |</div><div class="line">+-------------+----------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="WEEK(date[,mode])">WEEK(date[,mode])</h5><p>返回date在这一年的第几周。<br>关于mode,详见：<a href="http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html#function_week" target="_blank" rel="external">http://dev.mysql.com/doc/refman/5.6/en/date-and-time-functions.html#function_week</a></p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:35:58&gt; select week(date(now()));</div><div class="line">+-------------------+</div><div class="line">| week(date(now())) |</div><div class="line">+-------------------+</div><div class="line">|                34 |</div><div class="line">+-------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>
<h5 id="WEEKDAY(date)">WEEKDAY(date)</h5><p>查看date是星期几。(0表示星期一，1表示星期二….)  </p>
<figure class="highlight"><table><tr><td class="code"><pre><div class="line">root@localhost : wing 02:38:15&gt; select weekday(date(now()));</div><div class="line">+----------------------+</div><div class="line">| weekday(date(now())) |</div><div class="line">+----------------------+</div><div class="line">|                    3 |</div><div class="line">+----------------------+</div><div class="line">1 row in set (0.00 sec)</div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/mysql-build-in-function/" rel="tag">#mysql_build_in_function</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/09/29/mysqld-multi多实例启动工具/" rel="next" title="mysqld_multi多实例启动工具">
                <i class="fa fa-chevron-left"></i> mysqld_multi多实例启动工具
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/10/01/VARCHAR-N-VS-CHAR-N/" rel="prev" title="VARCHAR(N) VS CHAR(N)">
                VARCHAR(N) VS CHAR(N) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <div class="ds-share flat" data-thread-key="2015/09/30/常用的MySQL内置函数/"
     data-title="常用的MySQL内置函数"
     data-content=""
     data-url="https://wing324.github.io/2015/09/30/常用的MySQL内置函数/">
  <div class="ds-share-inline">
    <ul  class="ds-share-icons-16">

      <li data-toggle="ds-share-icons-more"><span class="ds-more">分享到：</span></li>
      <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
      <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
      <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
      <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      <li><a class="ds-facebook" href="javascript:void(0);" data-service="facebook">Facebook</a></li>
      <li><a class="ds-google" href="javascript:void(0);" data-service="google">Google</a></li>
    </ul>
    <!--
      <div class="ds-share-icons-more">
      </div>
    -->
  </div>
</div>
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2015/09/30/常用的MySQL内置函数/"
           data-title="常用的MySQL内置函数" data-url="https://wing324.github.io/2015/09/30/常用的MySQL内置函数/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/wing.jpg"
               alt="Wing" />
          <p class="site-author-name" itemprop="name">Wing</p>
          <p class="site-description motion-element" itemprop="description">热在分享，衷在开源。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">133</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/">
                <span class="site-state-item-count">113</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/wing324" target="_blank" title="Github">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  Github
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#比较函数"><span class="nav-number">1.</span> <span class="nav-text">比较函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#COALESCE():"><span class="nav-number">1.0.0.1.</span> <span class="nav-text">COALESCE():</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#GREATEST():"><span class="nav-number">1.0.0.2.</span> <span class="nav-text">GREATEST():</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#IN():"><span class="nav-number">1.0.0.3.</span> <span class="nav-text">IN():</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#INTERVAL():"><span class="nav-number">1.0.0.4.</span> <span class="nav-text">INTERVAL():</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ISNULL():"><span class="nav-number">1.0.0.5.</span> <span class="nav-text">ISNULL():</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#LEAST():"><span class="nav-number">1.0.0.6.</span> <span class="nav-text">LEAST():</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#STRCMP(expr1,expr2)"><span class="nav-number">1.0.0.7.</span> <span class="nav-text">STRCMP(expr1,expr2)</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#赋值操作"><span class="nav-number">2.</span> <span class="nav-text">赋值操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#控制流函数"><span class="nav-number">3.</span> <span class="nav-text">控制流函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#CASE"><span class="nav-number">3.0.0.1.</span> <span class="nav-text">CASE</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#IF(expr1,expr2,expr3)"><span class="nav-number">3.0.0.2.</span> <span class="nav-text">IF(expr1,expr2,expr3)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#IFNULL(expr1,expr2)"><span class="nav-number">3.0.0.3.</span> <span class="nav-text">IFNULL(expr1,expr2)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#NULLIF(expr1,expr2)"><span class="nav-number">3.0.0.4.</span> <span class="nav-text">NULLIF(expr1,expr2)</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串函数"><span class="nav-number">4.</span> <span class="nav-text">字符串函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#LENGTH()"><span class="nav-number">4.0.0.1.</span> <span class="nav-text">LENGTH()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CHAR_LENGTH()"><span class="nav-number">4.0.0.2.</span> <span class="nav-text">CHAR_LENGTH()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#BIT_LENGTH()"><span class="nav-number">4.0.0.3.</span> <span class="nav-text">BIT_LENGTH()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CONCAT()"><span class="nav-number">4.0.0.4.</span> <span class="nav-text">CONCAT()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ELT(expr1,expr2…-)"><span class="nav-number">4.0.0.5.</span> <span class="nav-text">ELT(expr1,expr2….)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FORMAT(X,D)"><span class="nav-number">4.0.0.6.</span> <span class="nav-text">FORMAT(X,D)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#INSERT(str,x,y,instr)"><span class="nav-number">4.0.0.7.</span> <span class="nav-text">INSERT(str,x,y,instr)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#LCASE()_&&_LOWER()"><span class="nav-number">4.0.0.8.</span> <span class="nav-text">LCASE() && LOWER()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#LEFT(str,len)_&&_RIGHT(str,len)"><span class="nav-number">4.0.0.9.</span> <span class="nav-text">LEFT(str,len) && RIGHT(str,len)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#LOCATE(substr,str),LOCATE(substr,str,pos)"><span class="nav-number">4.0.0.10.</span> <span class="nav-text">LOCATE(substr,str),LOCATE(substr,str,pos)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#LPAD(str,n,pad)"><span class="nav-number">4.0.0.11.</span> <span class="nav-text">LPAD(str,n,pad)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#RPAD(str,n,pad)"><span class="nav-number">4.0.0.12.</span> <span class="nav-text">RPAD(str,n,pad)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#LTRIM()_&&_RTRIM()_&&_TRIM()"><span class="nav-number">4.0.0.13.</span> <span class="nav-text">LTRIM() && RTRIM() && TRIM()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#repeat(str,count)"><span class="nav-number">4.0.0.14.</span> <span class="nav-text">repeat(str,count)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#replace(str,from_str,to_str)"><span class="nav-number">4.0.0.15.</span> <span class="nav-text">replace(str,from_str,to_str)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#reverse(str)"><span class="nav-number">4.0.0.16.</span> <span class="nav-text">reverse(str)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SPACE(n)"><span class="nav-number">4.0.0.17.</span> <span class="nav-text">SPACE(n)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SUBSTRING(str,m,n)"><span class="nav-number">4.0.0.18.</span> <span class="nav-text">SUBSTRING(str,m,n)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#UCASE()_&&_UPPER()"><span class="nav-number">4.0.0.19.</span> <span class="nav-text">UCASE() && UPPER()</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数值函数"><span class="nav-number">5.</span> <span class="nav-text">数值函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#CEIL()_&_CEILING()"><span class="nav-number">5.0.0.1.</span> <span class="nav-text">CEIL() & CEILING()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CRC32()"><span class="nav-number">5.0.0.2.</span> <span class="nav-text">CRC32()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FLOOR()"><span class="nav-number">5.0.0.3.</span> <span class="nav-text">FLOOR()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#POW(x,y)_&&_POWER(x,y)"><span class="nav-number">5.0.0.4.</span> <span class="nav-text">POW(x,y) && POWER(x,y)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#RAND()_&&_RAND(N)"><span class="nav-number">5.0.0.5.</span> <span class="nav-text">RAND() && RAND(N)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ROUND(X),ROUND(X,D)"><span class="nav-number">5.0.0.6.</span> <span class="nav-text">ROUND(X),ROUND(X,D)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SIGN()"><span class="nav-number">5.0.0.7.</span> <span class="nav-text">SIGN()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SQRT()"><span class="nav-number">5.0.0.8.</span> <span class="nav-text">SQRT()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TRUNCATE(X,D)"><span class="nav-number">5.0.0.9.</span> <span class="nav-text">TRUNCATE(X,D)</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#时间类型函数"><span class="nav-number">6.</span> <span class="nav-text">时间类型函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#ADDDATE()"><span class="nav-number">6.0.0.1.</span> <span class="nav-text">ADDDATE()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ADDTIME(expr1,expr2)"><span class="nav-number">6.0.0.2.</span> <span class="nav-text">ADDTIME(expr1,expr2)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CONVERT_TZ(dt,from_tz,to_tz)"><span class="nav-number">6.0.0.3.</span> <span class="nav-text">CONVERT_TZ(dt,from_tz,to_tz)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CURDATE()_&_CURRENT_DATE_&_CURRENT_DATE()"><span class="nav-number">6.0.0.4.</span> <span class="nav-text">CURDATE() & CURRENT_DATE & CURRENT_DATE()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CURRENT_TIME([fsp])_&_CURTIMR()"><span class="nav-number">6.0.0.5.</span> <span class="nav-text">CURRENT_TIME([fsp]) & CURTIMR()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CURRENT_TIMESTAMP([fsp])_&_CURRENT_TIMESTAMP_&_NOW()"><span class="nav-number">6.0.0.6.</span> <span class="nav-text">CURRENT_TIMESTAMP([fsp]) & CURRENT_TIMESTAMP & NOW()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DATE(expr)"><span class="nav-number">6.0.0.7.</span> <span class="nav-text">DATE(expr)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DATEDIFF(expr1,expr2)"><span class="nav-number">6.0.0.8.</span> <span class="nav-text">DATEDIFF(expr1,expr2)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DATE_ADD()_&_DATE_SUB()"><span class="nav-number">6.0.0.9.</span> <span class="nav-text">DATE_ADD() & DATE_SUB()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DATE_DORMAT(date,format)"><span class="nav-number">6.0.0.10.</span> <span class="nav-text">DATE_DORMAT(date,format)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DAYNAME(date)"><span class="nav-number">6.0.0.11.</span> <span class="nav-text">DAYNAME(date)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DAYOFMONTH()_&_DAYOFWEEK_&_DAYOFYEAR()"><span class="nav-number">6.0.0.12.</span> <span class="nav-text">DAYOFMONTH() & DAYOFWEEK & DAYOFYEAR()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#from_days(N)"><span class="nav-number">6.0.0.13.</span> <span class="nav-text">from_days(N)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#from_unixtime()"><span class="nav-number">6.0.0.14.</span> <span class="nav-text">from_unixtime()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#get_format()"><span class="nav-number">6.0.0.15.</span> <span class="nav-text">get_format()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#HOUR(time)"><span class="nav-number">6.0.0.16.</span> <span class="nav-text">HOUR(time)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#LAST_DAY(date)"><span class="nav-number">6.0.0.17.</span> <span class="nav-text">LAST_DAY(date)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#MAKEDATE()_&_MAKETIME()"><span class="nav-number">6.0.0.18.</span> <span class="nav-text">MAKEDATE() & MAKETIME()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#MICROSECOND()_&_MINUTE()_&_MONTH()_&_SECOND()_&_TIME()"><span class="nav-number">6.0.0.19.</span> <span class="nav-text">MICROSECOND() & MINUTE() & MONTH() & SECOND() & TIME()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#MONTHNAME(date)"><span class="nav-number">6.0.0.20.</span> <span class="nav-text">MONTHNAME(date)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#NOW()"><span class="nav-number">6.0.0.21.</span> <span class="nav-text">NOW()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SEC_TO_TIME(seconds)"><span class="nav-number">6.0.0.22.</span> <span class="nav-text">SEC_TO_TIME(seconds)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#STR_TO_DATE(str,format)"><span class="nav-number">6.0.0.23.</span> <span class="nav-text">STR_TO_DATE(str,format)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SUBDATE()_&_SUBTIME()"><span class="nav-number">6.0.0.24.</span> <span class="nav-text">SUBDATE() & SUBTIME()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SYSDATE([fsp])"><span class="nav-number">6.0.0.25.</span> <span class="nav-text">SYSDATE([fsp])</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TIMEDIFF(expr1,expr2)"><span class="nav-number">6.0.0.26.</span> <span class="nav-text">TIMEDIFF(expr1,expr2)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TIMESTAMP()_&_TIMESTAMPADD()_&_TIMESTAMPDIFF()"><span class="nav-number">6.0.0.27.</span> <span class="nav-text">TIMESTAMP() & TIMESTAMPADD() & TIMESTAMPDIFF()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#TO_DAYS()_&_TO_SECONDS()"><span class="nav-number">6.0.0.28.</span> <span class="nav-text">TO_DAYS() & TO_SECONDS()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#UNIX_TIMESTAMP([date])"><span class="nav-number">6.0.0.29.</span> <span class="nav-text">UNIX_TIMESTAMP([date])</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#UTC_DATE_&_UTC_DATE()_&_UTC_TIME_&_UTC_TIME()_&_UTC_TIMESTAMP_&_UTC_TIMESTAMP()"><span class="nav-number">6.0.0.30.</span> <span class="nav-text">UTC_DATE & UTC_DATE() & UTC_TIME & UTC_TIME() & UTC_TIMESTAMP & UTC_TIMESTAMP()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#WEEK(date[,mode])"><span class="nav-number">6.0.0.31.</span> <span class="nav-text">WEEK(date[,mode])</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#WEEKDAY(date)"><span class="nav-number">6.0.0.32.</span> <span class="nav-text">WEEKDAY(date)</span></a></li></ol></li></ol></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">您是第<span class="busuanzi-value" id="busuanzi_value_site_uv"></span>个小伙伴</span>
  

  
    <span class="site-pv">本站总浏览<span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次</span>
  
  
</div>



        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wing</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io" rel="external nofollow">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">
    NexT.Mist
  </a>
</div>

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"Wing"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementById('footer')
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
<script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js">
</script>


  <!-- 页面点击小红心 -->
  <script type="text/javascript" src="/js/src/love.js"></script>


</body>
</html>
